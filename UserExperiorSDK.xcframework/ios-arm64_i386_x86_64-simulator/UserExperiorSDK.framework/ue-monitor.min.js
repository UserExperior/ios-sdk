if(void 0===window.UserExperiorSDK){let t;void 0===t&&(t=class{#a;#b;constructor(t,e){this.#a=t,this.#b=e}get x(){return this.#a}get y(){return this.#b}set x(t){this.#a=t}set y(t){this.#b=t}});let e;"function"!=typeof e&&(e=class{offset;elements;constructor(t,e){this.offset=t,this.elements=e}get pageOffset(){return this.offset}get pageElements(){return this.elements}get pageLocations(){let t=this.pageOffset;return this.pageElements.flatMap(e=>{let i=e.getBoundingClientRect();return new DOMRectReadOnly(t.x+i.left,t.y+i.top,i.width,i.height)})}});let i;"function"!=typeof i&&(i=class{DOMObserver;DOMDocument;DOMChanged;DOMSelector;data;constructor(t){if(this.DOMObserver=null,this.DOMDocument=t,this.DOMChanged=!1,this.DOMSelector=void 0,this.data={autoDetected:[],blacklist:[],whitelist:[]},MutationObserver){let e=this;e.DOMObserver=new MutationObserver(function(){e.DOMChanged=!0}),e.DOMObserver.observe(e.DOMDocument.documentElement,{subtree:!0,childList:!0,attributes:!0})}}static utilities={math:{rects:{contains:function(t,e){return!(e.left<t.left||e.top<t.top||e.right>t.right||e.bottom>t.bottom)},overlaps:function(t,e){return!(t.left>=e.right)&&!(e.left>=t.right)&&!(t.top>=e.bottom||e.top>=t.bottom)},touches:function(t,e){return!(t.left>e.right)&&!(e.left>t.right)&&!(t.top>e.bottom||e.top>t.bottom)}},sets:{unite:function(t,e){let i=new Set(t);for(let n of e)i.add(n);return i},minus:function(t,e){return new Set(Array.from(t).filter(t=>!e.has(t)))}}},js_elements:{searchForClass:function(t,e){let i=t.getElementsByClassName(e);return Array.prototype.slice.call(i)},searchForSelectors:function(t,e){let i=t.querySelectorAll(e);return Array.prototype.slice.call(i)}},js_search:{detected:function(t){let e=i.utilities;return e.js_elements.searchForSelectors(t,"input[type='date'],[type='datetime'],[type='datetime-local'],[type='month'],[type='text'],[type='email'],[type='number'],[type='tel'],[type='file'],[type='password']")},blacklist:function(t,e){let n=i.utilities.js_elements,s=n.searchForClass(t,"ue-mask"),o=n.searchForSelectors(t,e);return Array.prototype.concat(s,o)},whitelist:function(t){let e=i.utilities.js_elements;return e.searchForClass(t,"ue-unmask")}},js_viewport:{isElementHidden:function(t){let e=(t.ownerDocument.defaultView||window).getComputedStyle(t);return"none"===e.getPropertyValue("display")||"hidden"===e.getPropertyValue("visibility")||"0"===e.getPropertyValue("opacity")||null===t.offsetParent||!t.offsetWidth||!t.offsetHeight},isInViewport:function(t){let e=t.ownerDocument.documentElement,n=t.ownerDocument.documentElement.defaultView,s=t.getBoundingClientRect(),o=new DOMRect(0,0,n?.innerWidth||e?.clientWidth,n?.innerHeight||e?.clientHeight),r=i.utilities.math.rects;return r.contains(o,s)||r.overlaps(o,s)}}};get DOMDocument(){return this.DOMDocument}get autoDetected(){return new Set(this.data.autoDetected)}get whitelist(){return new Set(this.data.whitelist)}get blacklist(){return new Set(this.data.blacklist)}allSecuredElements(){let t=i.utilities.math,e=new Set;return e=t.sets.unite(e,this.autoDetected),e=t.sets.minus(e,this.whitelist),Array.from(e=t.sets.unite(e,this.blacklist))}refreshData(){let t=this,e=i.utilities.js_search;(t.DOMChanged||!(t.data.autoDetected||t.data.blacklist||t.data.whitelist)||Array.isArray(t.data.autoDetected)&&!t.data.autoDetected.length||Array.isArray(t.data.blacklist)&&!t.data.blacklist.length||Array.isArray(t.data.whitelist)&&!t.data.whitelist.length)&&(t.DOMChanged=!1,t.data.autoDetected=e.detected(t.DOMDocument),t.data.blacklist=e.blacklist(t.DOMDocument,t.DOMSelector),t.data.whitelist=e.whitelist(t.DOMDocument))}forceRefreshData(){this.DOMChanged=!0,this.refreshData()}offsetInBrowser(){let e=[],i=this.DOMDocument.defaultView;for(;null!=i&&null!==i.frameElement&&void 0!==i.frameElement;)e.push(i.frameElement.getBoundingClientRect()),i=i.frameElement.ownerDocument.defaultView;let n=new t(0,0);return e.forEach(t=>{n.x=n.x+t.left,n.y=n.y+t.top}),n}elementsToMask(){let t=i.utilities.js_viewport;return this.allSecuredElements().filter(function(e){return!t.isElementHidden(e)&&t.isInViewport(e)})}locationsData(){return this.refreshData(),new e(this.offsetInBrowser(),this.elementsToMask())}});let n;void 0===n&&(n=class{DOMChanged;monitor;container;constructor(){if(this.DOMChanged=!1,this.monitor={},this.container=[],MutationObserver){let t=this,e=new MutationObserver(function(){t.DOMChanged=!0});e.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0})}this.refreshContainer(),this.setupMonitors()}static utilities={dom:{docsInDOM:function(t){let e=Array.from(t.getElementsByTagName("iframe")),i=Array.from(t.getElementsByTagName("object")),s=e.concat(i);return Array.isArray(s)&&s.length?Array(t).concat(s.flatMap(t=>null===t.contentDocument||void 0===t.contentDocument?[]:n.utilities.dom.docsInDOM(t.contentDocument))):Array(t)},documentsInPage:function(){return n.utilities.dom.docsInDOM(document)}},js_utilities:{serialize:function(t){let e;switch(e=navigator.userAgent,/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?"iOS":"Other"){case"Android":return t.flatMap(function(t){return{origin:{x:t.left,y:t.top},size:{width:t.width,height:t.height}}});case"iOS":return t.flatMap(function(t){return"{{"+t.left+","+t.top+"},{"+t.width+","+t.height+"}}"}).join("*");default:return""}}}};setupMonitors(){let t=this.monitor,e=function(t){t.isZooming="true",t.zoomTimeout&&clearTimeout(t.zoomTimeout),t.zoomTimeout=setTimeout(function(){t.isZooming="false"},750)};t.isScrollHandlerInstalled||(t.isScrollHandlerInstalled=!0,t.isScrolling="false",window.addEventListener("scroll",function(){t.isScrolling="true",t.scrollTimeout&&clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(function(){t.isScrolling="false"},750)})),t.isTapActionHandlerInstalled||(t.isTapActionHandlerInstalled=!0,t.isZooming="false",document.body.addEventListener("touchend",function(){let i=new Date().getTime(),n=t.ueLastTouchTimestamp||i+1,s=i-n;t.ueLastTouchTimestamp=i,s>0&&s<50&&e(t)})),t.isFocusHandlerInstalled||(t.isFocusHandlerInstalled=!0,t.isZooming="false",document.querySelectorAll("input").forEach(function(i){i.addEventListener("focus",function(){e(t)},!1)}))}refreshContainer(){(this.DOMChanged||!this.container||Array.isArray(this.container)&&!this.container.length)&&(this.DOMChanged=!1,this.container=n.utilities.dom.documentsInPage().flatMap(t=>new i(t)))}forceRefreshMaskLocations(){this.DOMChanged=!0,this.refreshContainer(),this.container.forEach(t=>{t.forceRefreshData()})}maskedLocations(){this.refreshContainer();let t=this.container.flatMap(t=>t.locationsData()).flatMap(t=>t.pageLocations);return n.utilities.js_utilities.serialize(t)}snapshotInformation(){return JSON.stringify({isScrolling:this.monitor.isScrolling,isZooming:this.monitor.isZooming,locationsToMask:this.maskedLocations(),windowWidth:window.innerWidth||document.documentElement.clientWidth})}}),window.UserExperiorSDK=window.UserExperiorSDK||new n,window.UserExperiorSDK.forceRefreshMaskLocations()}window.UserExperiorSDK&&window.UserExperiorSDK.snapshotInformation();
